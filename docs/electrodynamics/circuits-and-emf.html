<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Personal Notes - Circuits and Electromotive Force</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../electrodynamics/electrodynamics.html" rel="next">
<link href="../electrodynamics/magnetostatics.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../electrodynamics/preliminaries.html">Electromagnetism</a></li><li class="breadcrumb-item"><a href="../electrodynamics/circuits-and-emf.html"><span class="chapter-title">Circuits and Electromotive Force</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Personal Notes</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Classical Mechanics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/newtonian-mechanics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Newtonian Mechanics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/simple-systems.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Simple Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/reference-frames.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Reference Frames</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/lagrangian-mechanics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Lagrangian Mechanics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/hamiltonian-mechanics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Hamiltonian Mechanics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/central-forces.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Central Forces</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/coupled-oscillations.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Coupled Oscillations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/rigid-bodies.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Rigid Bodies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/canonical-transformations.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Canonical Transformations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/integrability-and-chaos.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Integrability and Chaos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../classical-mechanics/continuum-mechanics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Continuum Mechanics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Electromagnetism</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/preliminaries.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Preliminaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/electrostatics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Electrostatics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/bvps-1.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Boundary Value Problems I</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/bvps-2.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Boundary Value Problems II</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/multipole-expansion.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Multipole Expansion</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/magnetostatics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Magnetostatics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/circuits-and-emf.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Circuits and Electromotive Force</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/electrodynamics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Electrodynamics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/orthogonal-functions.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix I: Orthogonal Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../electrodynamics/complex-analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix II: Complex Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Circuit Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/circuit-abstraction.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">The Lumped Circuit Abstraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Analyzing Circuits</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/nonlinear-methods.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Nonlinear Methods</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/digital-abstraction.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">The Digital Abstraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/amplifiers.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Amplifiers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/first-order-systems.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">First-Order Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/second-order-systems.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Second-Order Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/ac-analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">AC Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/op-amps.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Operational Amplifiers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../circuits/energy-power.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Energy and Power</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Quantum Mechanics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../quantum-mechanics/identical-particles.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Identical Particles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../quantum-mechanics/second-quantization.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Second Quantization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Statistical Mechanics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistical-mechanics/thermodynamics.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Thermodynamics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistical-mechanics/probability.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Probability</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistical-mechanics/kinetic-theory.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Kinetic Theory</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistical-mechanics/classical-stat-mech.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Classical Statistical Mechanics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistical-mechanics/classical-gases.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Classical Gases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistical-mechanics/quantum-stat-mech.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Quantum Statistical Mechanics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../statistical-mechanics/quantum-gases.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Quantum Gases</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#ohms-law" id="toc-ohms-law" class="nav-link active" data-scroll-target="#ohms-law">Ohm’s Law</a>
  <ul class="collapse">
  <li><a href="#v-ir" id="toc-v-ir" class="nav-link" data-scroll-target="#v-ir">V = IR</a></li>
  <li><a href="#drude-model" id="toc-drude-model" class="nav-link" data-scroll-target="#drude-model">Drude Model</a></li>
  <li><a href="#ohmic-heating" id="toc-ohmic-heating" class="nav-link" data-scroll-target="#ohmic-heating">Ohmic Heating</a></li>
  </ul></li>
  <li><a href="#circuits" id="toc-circuits" class="nav-link" data-scroll-target="#circuits">Circuits</a>
  <ul class="collapse">
  <li><a href="#circuit-elements" id="toc-circuit-elements" class="nav-link" data-scroll-target="#circuit-elements">Circuit Elements</a></li>
  <li><a href="#kirkhoffs-laws" id="toc-kirkhoffs-laws" class="nav-link" data-scroll-target="#kirkhoffs-laws">Kirkhoff’s Laws</a></li>
  </ul></li>
  <li><a href="#electromotive-force" id="toc-electromotive-force" class="nav-link" data-scroll-target="#electromotive-force">Electromotive Force</a>
  <ul class="collapse">
  <li><a href="#motional-emf" id="toc-motional-emf" class="nav-link" data-scroll-target="#motional-emf">Motional EMF</a></li>
  </ul></li>
  <li><a href="#faradays-law" id="toc-faradays-law" class="nav-link" data-scroll-target="#faradays-law">Faraday’s Law</a></li>
  <li><a href="#inductance" id="toc-inductance" class="nav-link" data-scroll-target="#inductance">Inductance</a></li>
  <li><a href="#energy-in-magnetic-fields" id="toc-energy-in-magnetic-fields" class="nav-link" data-scroll-target="#energy-in-magnetic-fields">Energy in Magnetic Fields</a></li>
  <li><a href="#quasistatics" id="toc-quasistatics" class="nav-link" data-scroll-target="#quasistatics">Quasistatics</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../electrodynamics/preliminaries.html">Electromagnetism</a></li><li class="breadcrumb-item"><a href="../electrodynamics/circuits-and-emf.html"><span class="chapter-title">Circuits and Electromotive Force</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Circuits and Electromotive Force</span></h1>
</div>



<div class="quarto-title-meta column-page-right">

    
  
    
  </div>
  


</header>


<p>In this chapter, we’ll start moving in the direction of electrodynamics by combining electric and magnetic fields together. For now we will mostly still assume that both fields are time-independent by combining electrostatics and magnetostatics together to get a unified theory of statics known as <em>quasistatics</em>. We will first present Ohm’s law and the basics of circuit theory before discussing electromotive force and finally arriving at Faraday’s law, one of the four Maxwell equations. We’ll finalize our discussion of Maxwell’s equations in the next chapter.</p>
<section id="ohms-law" class="level2">
<h2 class="anchored" data-anchor-id="ohms-law">Ohm’s Law</h2>
<p>When a material is brought into contact with external electromagnetic fields, these fields will cause any unbound electrons inside the material to move in response to the fields, creating an induced current inside the material. If a material is placed in the vicinity of an external E-field <span class="math inline">\(\mathbf{E}\)</span> and an external B-field <span class="math inline">\(\mathbf{B}\)</span>, there will be an induced current density <span class="math inline">\(\mathbf{J} = \mathbf{J}(\mathbf{E},\mathbf{B})\)</span> that’s some function of these fields. Assuming the material is in electrostatic equilibrium before these fields are turned on, we can Taylor expand <span class="math inline">\(\mathbf{J}\)</span> to get a power series in <span class="math inline">\(\mathbf{E}\)</span>. The <span class="math inline">\(j\)</span><sup>th</sup> component of the current density can then be written <span class="math display">\[
J_i = \sigma_{ij}(\mathbf{B}) E_i + \frac{1}{2}\sigma_{ijk}(\mathbf{B}) E_j E_k + \cdots \ ,
\]</span> where the coefficients are some function of <span class="math inline">\(\mathbf{B}\)</span>. If the applied E-field is sufficiently weak we can truncate to leading order to get <span class="math display">\[
J_i \approx \sigma_{ij}(\mathbf{B}) E_i \ .
\]</span> The coefficients <span class="math inline">\(\sigma_{ij}(\mathbf{B})\)</span> together form a <span class="math inline">\(3 \times 3\)</span> matrix, called the <em>conductivity matrix</em>. In general this matrix can be arbitrarily complicated. In the special case that the material is macroscopically <em>isotropic</em>, or uniform, and if <span class="math inline">\(\mathbf{B} = \mathbf{0}\)</span>, this matrix becomes diagonal with <span class="math inline">\(\sigma_{ij} = \sigma \delta_{ij}\)</span>, where <span class="math inline">\(\sigma\)</span> is some scalar constant. When this is true we get one version of <em>Ohm’s Law</em>, <span class="math display">\[
\boxed{
\mathbf{J} = \sigma \mathbf{E}
} \ .
\]</span> The scalar <span class="math inline">\(\sigma\)</span> is an empirical constant that depends on the material. It’s known as the electrical <em>conductivity</em>. As the name suggests, it’s a measure of how much a given material is able to conduct current in response to an external E-field. It’s precisely materials with a very high conductivity that we call conductors, since in a good conductor we expect that the smallest applied E-field would create the highest induced current. Materials with low conductivity are similarly called insulators, since in a good insulator we expect that a large applied E-field is needed to produce even the slightest amount of induced current. A perfect conductor would have an infinite, meaning <em>any</em> non-zero E-field would produce an infinitely high induced current, while a perfect insulator would have a zero conductivity, meaning no amount of E-field would produce an induced current.</p>
<p>In applied settings, one commonly defines <span class="math inline">\(\rho \equiv 1/\sigma\)</span>, which is called the electrical <em>resistivity</em> of the material. In this case Ohm’s law takes the form <span class="math inline">\(\rho \mathbf{J} = \mathbf{E}\)</span>. Be careful not to confuse <span class="math inline">\(\rho\)</span> in this case with the charge density, as unfortunately the same notation is commonly used for both. Materials with low resistivity make good conductors, while those with high resistivity make good insulators. A perfect conductor would have a zero resistivity, while a perfect insulator has an infinite resistivity.</p>
<p>In Gaussian units, dimensional analysis requires that conductivity have dimensions of inverse time. This means that resistivity must have dimensions of time, or units of seconds in Gaussian units. In SI units, resistivity is typically given in units of Ohm-meters, or <span class="math inline">\(\Omega \cdot \text{m}\)</span>, with <span class="math inline">\(1 \ \Omega \cdot \text{m} \approx 10^{-10} \ \text{s}\)</span>. One Ohm is defined to be one volt per amp, and is a measure of electrical <em>resistance</em>, a related quantity we’ll come back to below.</p>
<p>Most tables of materials list a material’s resistivity rather than its conductivity, which is just the reciprocal of resistivity. Real life materials of course are neither perfect insulators nor perfect conductors, but many materials can be approximated as such. For example, good conductors like copper, gold, silver, and aluminum have resistivities of <span class="math inline">\(\rho \sim 10^{-8} \ \Omega \cdot \text{m}\)</span> or <span class="math inline">\(\rho \sim 10^{-18} \ \text{s}\)</span>. Meanwhile, good insulators like quartz, glass, or wood have resistivities in the range <span class="math inline">\(\rho \sim 10^{8} - 10^{16} \ \Omega \cdot \text{m}\)</span> or <span class="math inline">\(\rho \sim 10^{-2} - 10^{6} \ \text{s}\)</span>.</p>
<p>Notice from Ohm’s law that as long as we have a steady current there can be no charge buildup anywhere inside the material. Indeed, since <span class="math inline">\(\nabla \cdot \mathbf{J} = 0\)</span> for steady currents and <span class="math inline">\(\nabla \cdot \mathbf{E} = 4\pi\rho\)</span>, by Ohm’s law we must have <span class="math display">\[
\rho = \frac{1}{4\pi} \nabla \cdot \mathbf{E} = \frac{1}{4\pi\sigma} \nabla \cdot \mathbf{J} = 0 \ .
\]</span> This means inside an Ohmic material with steady current we can assume <span class="math inline">\(\rho = 0\)</span> inside the material. This then means that the inside of the material satisfies Laplace’s equation <span class="math inline">\(\nabla^2 \phi = 0\)</span>, which means all the tools we derived before can be used to find the potential and E-field inside the material. On the surface, however, things are much more complicated since any excess free charge must accumulate on the surface of the material.</p>
<section id="v-ir" class="level3">
<h3 class="anchored" data-anchor-id="v-ir">V = IR</h3>
<p>Of course, the version of Ohm’s law given above isn’t the one most of us are probably familiar with. We’re used to seeing Ohm’s law in terms of voltage and current, not E-field and current density. To see how we get the more familiar version of Ohm’s law, suppose we have a piece of cylindrically symmetric conducting material with some cross-sectional area <span class="math inline">\(A\)</span> and length <span class="math inline">\(L\)</span>. We now take this material and hook both ends up to voltage terminals held at fixed potentials <span class="math inline">\(\phi_\pm\)</span>.</p>
<p>Since no charges can accumulate inside the conductor, the potential inside the conductor must satisfy Laplace’s equation <span class="math inline">\(\nabla^2 \phi = 0\)</span>. This means we can formulate the problem as a boundary value problem as we did in electrostatics. Supposing the cylinder lies along the <span class="math inline">\(z\)</span>-axis with one end located at the origin, we have <span class="math display">\[
\begin{cases}
\nabla^2 \phi = 0 \ , \\
\phi(\varrho,\varphi,0) = \phi_+ \ , \\
\phi(\varrho,\varphi,L) = \phi_- \ .
\end{cases}
\]</span> We will also assume that <span class="math inline">\(\phi(\mathbf{x}) = 0\)</span> outside the conductor. This can be done, for instance, by wrapping the sides of the conducting cylinder in a good insulating material like rubber. Solving this BVP is a trivial matter. By the uniqueness theorem, if we can guess a correct solution satisfying the boundary conditions, it must be <em>the</em> unique solution. An obvious guess inside the conductor is <span class="math display">\[
\phi(\mathbf{x}) = \frac{\phi_+ - \phi_-}{L} z + \phi_- \ .
\]</span> This choice of potential turns out to satisfy both boundary conditions, and hence must be the unique solution. Now, this potential will give rise to an induced electric field inside the conductor of the form <span class="math display">\[
\mathbf{E}(\mathbf{x}) = -\nabla \phi(\mathbf{x}) = -\frac{\phi_+ - \phi_-}{L} \mathbf{e}_z = -\frac{V}{L} \mathbf{e}_z \ .
\]</span> Evidently then, the induced E-field inside the conductor will be uniform along the axis of the cylinder, and be proportional to the potential difference <span class="math inline">\(V \equiv \phi_+ - \phi_-\)</span> across the two terminals. The field strength is thus constant inside the conductor, with <span class="math display">\[
|\mathbf{E}| = \frac{V}{L} \ .
\]</span> Now, the presence of this induced E-field will cause the free charges inside the conductor to move, creating a current density <span class="math inline">\(\mathbf{J}\)</span> inside the conductor that at least approximately satisfies Ohm’s law, <span class="math display">\[
\mathbf{J} = \sigma \mathbf{E} \ .
\]</span> Since the E-field is uniform, the current density will clearly be uniform as well. This means the current <span class="math inline">\(I\)</span> flowing through each cross-sectional area <span class="math inline">\(A\)</span> inside the cylinder will be also be uniform, with <span class="math display">\[
I = \int \mathbf{J} \cdot d\mathbf{a} = |\mathbf{J}| A \ .
\]</span> If we now substitute these formulas into Ohm’s law and solve for <span class="math inline">\(V\)</span>, we get <span class="math display">\[
V = \frac{L}{\sigma A} I \ .
\]</span> That is, the voltage across the material is proportional to the current flowing through the material. The proportionality constant is called the electrical <em>resistance</em> of the material, usually denoted <span class="math inline">\(R\)</span>, with <span class="math display">\[
R \equiv \frac{L}{\sigma A} \ .
\]</span> We’ve thus derived the more familiar form of Ohm’s law, <span class="math display">\[
\boxed{
V = IR
} \ .
\]</span> Though minor, it is worth pointing out that while this equation seems to suggest it’s really the flowing current that causes the voltage across the material, it’s really the opposite. It’s the voltage that causes the current. If we wanted to be pedantic about it, we should really write <span class="math inline">\(I = V/R\)</span> instead. But nobody does this, so we won’t either. Just keep this in mind.</p>
<p>Notice the resistance <span class="math inline">\(R\)</span> depends on both the material’s conductivity as well as its geometric properties (that is, its length and cross-sectional area). The more conductive the material, the lower its resistance. The longer the length of the material or the lower its cross sectional area, the higher its resistance.</p>
<p>In Gaussian units, resistance has dimensions of time over distance, or units of <span class="math inline">\(\text{s}/\text{cm}\)</span>. In SI units, resistance has units of volts per amp, which is commonly called an <em>Ohm</em>, denoted <span class="math inline">\(\Omega\)</span>, with <span class="math inline">\(1 \ \Omega \approx 10^{-12} \ \text{s}/\text{cm}\)</span>. As an example, a copper wire with a length of <span class="math inline">\(1 \ \text{m}\)</span> and a cross-sectional area of <span class="math inline">\(1 \ \text{mm}\)</span> would have a resistance of <span class="math inline">\(R \approx 10^{-2} \ \Omega \approx 10^{-14} \ \text{s}/\text{cm}\)</span>. In contrast, an insulating glass tube with the same length and cross-sectional area would have a much higher resistance of <span class="math inline">\(R \approx 10^{14} \ \Omega \approx 100 \ \text{s}/\text{cm}\)</span>.</p>
<p>It’s worth briefly saying a few words about what would happen outside the conductor. The free charges inside will always arrange themselves so that the E-field inside the conductor is uniform to satisfy Laplace’s equation, but we can still have free charges that accumulate on the surface of the cylinder, creating a surface charge density <span class="math inline">\(\sigma\)</span>. Calculating <span class="math inline">\(\sigma\)</span> it turns out can be done, but it’s quite difficult to do. At any rate, the presence of surface charges will produce an E-field outside the conductor that falls off approximately like <span class="math inline">\(1/r\)</span>. This can all be mitigated, for instance, by coating the wires in insulating material like rubber.</p>
</section>
<section id="drude-model" class="level3">
<h3 class="anchored" data-anchor-id="drude-model">Drude Model</h3>
<p>Ohm’s law is a phenomenological law, meaning it’s a relation that happens to sometimes hold for many materials in ideal conditions. It’s not a fundamental law of physics. It’s thus fair to ask whether we can derive Ohm’s law from more fundamental physics. To do this properly we will need to cover a little bit of solid state physics first.</p>
<p>Strictly speaking, one should use quantum mechanics to truly understand the properties of solids, but it turns out we can get away with deriving Ohm’s law from a purely classical theory of solids. This is known as the <em>Drude model</em> of a solid. The idea is to model a solid as an imperfect lattice of stationary atoms, or <em>defects</em>, along with a classical gas of free electrons that are allowed to flow freely throughout the solid. The free electrons are allowed to scatter with the defects and respond to an external field.</p>
<p>More formally, we make the following assumptions in Drude model:</p>
<ol type="1">
<li>The free electrons are allowed to scatter with defects according to a Poisson process. Suppose <span class="math inline">\(\tau\)</span> is the average time between collisions. It’s an empirically measured constant that depends on the solid, known as the <em>mean free time</em>. We require that in any infinitesimal time interval <span class="math inline">\(dt\)</span>, the probability of an electron scattering with a defect be a uniform value <span class="math inline">\(dt/\tau\)</span>.</li>
<li>Once an electron scatters with a defect, we assume it immediately comes to rest with velocity <span class="math inline">\(\mathbf{v} = \mathbf{0}\)</span>.</li>
<li>In between scattering events, the free electrons can only interact <em>classically</em> with an external applied force field <span class="math inline">\(\mathbf{F}\)</span>.</li>
<li>The electrons do not interact with each other at all.</li>
</ol>
<p>Suppose an electron is moving through the solid with velocity <span class="math inline">\(\mathbf{v}(t)\)</span>. We want to know what the velocity will be at an infinitesimally later time <span class="math inline">\(t+dt\)</span>. But this velocity will depend on whether or not the electron scatters in the time interval <span class="math inline">\([t,t+dt]\)</span>. If the electron <em>does</em> scatter, by assumption (2) we must have <span class="math inline">\(\mathbf{v}_{\text{scat}}(t+dt) = \mathbf{0}\)</span>.</p>
<p>By assumption (3), if the electron <em>does not</em> scatter in the time interval <span class="math inline">\([t,t+dt]\)</span>, its motion in this time interval will be given by Newton’s second law. If <span class="math inline">\(\mathbf{v}_{\text{no}}(t+dt)\)</span> is the velocity when there is no scattering, we’d have <span class="math display">\[
m_e \frac{d}{dt} \mathbf{v}_{\text{no}}(t+dt) = \mathbf{F} \ .
\]</span> If we multiply both sides by <span class="math inline">\(dt/m_e\)</span> and write <span class="math inline">\(d\mathbf{v}(t+dt) = \mathbf{v}(t+dt) - \mathbf{v}(t)\)</span>, we then get <span class="math display">\[
\mathbf{v}_{\text{no}}(t+dt) = \mathbf{v}(t) + \frac{\mathbf{F}}{m_e}dt \ .
\]</span> Now, what we’d like to know is the <em>expected</em>, or average, velocity <span class="math inline">\(\langle\mathbf{v}\rangle\)</span> of all the free electrons, not the velocity of any single electron. At time <span class="math inline">\(t\)</span> we assume <span class="math inline">\(\mathbf{v}(t)\)</span> is known, which means <span class="math inline">\(\langle\mathbf{v}(t)\rangle = \mathbf{v}(t)\)</span> exactly. At time <span class="math inline">\(t+dt\)</span> the expected velocity will be the weighted average of <span class="math inline">\(\mathbf{v}_{\text{scat}}(t+dt)\)</span> and <span class="math inline">\(\mathbf{v}_{\text{no}}(t+dt)\)</span>, where the weights are the probability each possibility occurs, <span class="math display">\[
\langle \mathbf{v}(t+dt) \rangle = p_{\text{scat}} \mathbf{v}_{\text{scat}}(t+dt) + p_{\text{no}} \mathbf{v}_{\text{no}}(t+dt) \ .
\]</span> By assumption (1), we have <span class="math inline">\(p_{\text{scat}} = dt/\tau\)</span>, ,which means <span class="math inline">\(p_{\text{no}} = 1-dt/\tau\)</span>. We thus have <span class="math display">\[
\langle \mathbf{v}(t+dt) \rangle = \frac{dt}{\tau} \mathbf{0} + \bigg(1 - \frac{dt}{\tau}\bigg) \bigg[\mathbf{v}(t) + \frac{\mathbf{F}}{m_e} dt\bigg] \ .
\]</span> Assuming we know the velocity at time <span class="math inline">\(t\)</span>, the expected velocity at time <span class="math inline">\(t\)</span> is just <span class="math inline">\(\langle\mathbf{v}(t)\rangle = \mathbf{v}(t)\)</span>. If we now move <span class="math inline">\(\mathbf{v}(t)\)</span> to the left-hand side, drop any terms of order <span class="math inline">\(dt^2\)</span> on the right-hand side, and divide through by <span class="math inline">\(dt\)</span>, we get <span class="math display">\[
\frac{\langle \mathbf{v}(t+dt) \rangle - \langle \mathbf{v}(t) \rangle}{dt} = \frac{\mathbf{F}}{m_e} - \frac{\langle\mathbf{v}(t)\rangle}{\tau} \ .
\]</span> Since <span class="math inline">\(dt\)</span> is infinitesimal, the left-hand side is just the time derivative <span class="math inline">\(d\langle \mathbf{v} \rangle/dt\)</span>. We’ll now drop the brackets from <span class="math inline">\(\mathbf{v}\)</span> since we won’t need them anymore, in which case we can write <span class="math display">\[
\frac{d \mathbf{v}}{dt} = \frac{\mathbf{F}}{m_e} - \frac{\mathbf{v}}{\tau} \ .
\]</span> Now, in principle the applied force could be any force field. If the field is purely electromagnetic, the force is given by the Lorentz force law, in which case we’d have</p>
<p><span class="math display">\[
\frac{d \mathbf{v}}{dt} = -\frac{e}{m_e}\bigg[\mathbf{E} + \frac{\mathbf{v}}{c} \times \mathbf{B}\bigg] - \frac{\mathbf{v}}{\tau} \ .
\]</span> Note the minus sign on the charge, since electrons are negatively charged with <span class="math inline">\(q=-e\)</span>. We now need to figure out what the current density is. If we suppose there are on average <span class="math inline">\(n\)</span> free electrons per unit volume inside the solid, then the electrons will have a uniform charge density <span class="math inline">\(\rho = -en\)</span>, which means there will be a current density <span class="math display">\[
\mathbf{J} = \rho \mathbf{v} = -ne\mathbf{v} \ .
\]</span> Substituting this into the differential equation, we get <span class="math display">\[
\boxed{
\frac{d \mathbf{J}}{dt} = -\frac{ne^2}{m_e}\mathbf{E} + \frac{e}{m_ec} \mathbf{J} \times \mathbf{B} - \frac{\mathbf{J}}{\tau}
} \ .
\]</span> This differential equation is known as the <em>generalized Ohm’s law</em>. In principle it describes how the current density responds to the external electromagnetic fields at any point in time. On the right-hand side, we have a driving term plus a relaxation term <span class="math inline">\(-\mathbf{J}/\tau\)</span>.</p>
<p>In practice we don’t really care about the transient behavior of the current, only its steady state behavior. One major reason for this is that the transient behavior dies off fast, on time scales of <span class="math inline">\(\tau\)</span>. For pretty much all solids <span class="math inline">\(\tau\)</span> is very tiny. For example, many metals have relaxation times of order <span class="math inline">\(\tau \sim 10^{-14} \ \text{s}\)</span>. This means a steady state current is reached almost instantly.</p>
<p>At steady state we can set <span class="math inline">\(d\mathbf{J}/dt = \mathbf{0}\)</span>, which means the generalized Ohm’s law reduces to <span class="math display">\[
\mathbf{0} = -\frac{ne^2}{m_e}\mathbf{E} + \frac{e}{m_ec} \mathbf{J} \times \mathbf{B} - \frac{\mathbf{J}}{\tau} \ .
\]</span> At this point it will be more convenient to solve for <span class="math inline">\(\mathbf{E}\)</span>, in which case we get <span class="math display">\[
\mathbf{E} = \frac{m_e}{ne^2 \tau} \mathbf{J} + \frac{1}{nec} \mathbf{J} \times \mathbf{B} \ .
\]</span> Notice that this equation is linear in <span class="math inline">\(\mathbf{J}\)</span>, which means the right-hand side must be some matrix multiple of <span class="math inline">\(\mathbf{J}\)</span>. We’ll call this matrix the <em>resistivity matrix</em> <span class="math inline">\(\boldsymbol{\rho}\)</span>. It’s not hard to show that the resistivity matrix can be written <span class="math display">\[
\boldsymbol{\rho} \equiv \begin{pmatrix}
m_e / ne^2 \tau &amp; B_z / nec &amp; -B_y / nec \\
-B_z / nec &amp; m_e / ne^2 \tau &amp; B_x / nec \\
B_y / nec &amp; -B_x / nec &amp; m_e / ne^2 \tau
\end{pmatrix} \ .
\]</span> This matrix will generally be invertible, in which case we can define a conductivity matrix <span class="math inline">\(\boldsymbol{\sigma}\)</span> as the matrix inverse of <span class="math inline">\(\boldsymbol{\rho}\)</span>. We can then express the components of the current density in terms of the components of the E-field as <span class="math display">\[
J_i = \sigma_{ij} E_j \ .
\]</span> This is exactly what we wrote down at the beginning of the section. In the special case where <span class="math inline">\(\mathbf{B} = \mathbf{0}\)</span>, the conductivity matrix becomes diagonal with <span class="math inline">\(\sigma_{ij} = ne^2\tau/m_e \ \delta_{ij}\)</span>. Evidently, the conductivity <span class="math inline">\(\sigma\)</span> is given by <span class="math display">\[
\sigma = \frac{ne^2 \tau}{m_e} \ .
\]</span> Plugging this in, we finally arrive at Ohm’s law, which is what we sought to derive, <span class="math display">\[
\mathbf{J} = \sigma \mathbf{E} \ .
\]</span> This derived expression for <span class="math inline">\(\sigma\)</span> hopefully makes sense. After all, the more free electrons there are, the higher <span class="math inline">\(n\)</span> will be, and thus the higher <span class="math inline">\(\sigma\)</span> will be. The longer the time between collisions, the faster the free electrons can move, which means <span class="math inline">\(\sigma\)</span> will be higher.</p>
<p>In this setting, one sometimes defines <span class="math inline">\(\omega_p^2 \equiv 4\pi ne^2/m_e\)</span>, where <span class="math inline">\(\omega_p\)</span> is called the <em>plasma frequency</em>. The plasma frequency is a measure of the natural frequency of oscillations of electrons inside the electron gas. In terms of the plasma frequency, the conductivity is given by <span class="math inline">\(\sigma = \tau\omega_p^2 / 4\pi\)</span>. Thus, the higher the plasma frequency, the higher the conductivity will be.</p>
<p>We can also use the Drude model to ask how to estimate how fast the free electrons are moving through the solid in response to the applied E-field. Since <span class="math inline">\(\mathbf{J} = -ne\mathbf{v}\)</span> and <span class="math inline">\(\sigma = ne^2\tau / m_e\)</span>, the average velocity of these electrons at steady state will evidently be <span class="math display">\[
\mathbf{v} = -\frac{e\tau}{m_e} \mathbf{E} \ .
\]</span> Notice that, on average, the free electrons flow in the direction <em>opposite</em> the direction of the applied E-field, as we’d expect since electrons are negatively charged. Their average <em>speed</em> <span class="math inline">\(v_d \equiv |\mathbf{v}|\)</span> is known as the <em>drift velocity</em>, which is evidently <span class="math display">\[
v_d = \frac{e\tau}{m_e} |\mathbf{E}| \ .
\]</span> It’s worth plugging in some numbers to get a feel for how fast this drift velocity is in a typical scenario. Supposing we apply an E-field of strength <span class="math inline">\(|\mathbf{E}| = 1 \ \text{V}/\text{m}\)</span> across a piece of copper with a mean free time of <span class="math inline">\(\tau \approx 3 \cdot 10^{-14} \ \text{s}\)</span>, we’d have <span class="math inline">\(v_d \approx 0.5 \ \text{cm}/\text{s}\)</span>. Thus, the free electrons are responding to the E-field very slowly. This is primarily due to all the collisions taking place as they move through the solid. These collisions cause the electrons to move through the material in a random walk, but with a slight drift in the direction of the E-field. The random walk velocities will average to zero, leaving only this tiny drift velocity to contribute to the average. Yet, this tiny drift velocity alone is entirely responsible for any induced currents measured in the material.</p>
<p>Since we derived the generalized Ohm’s law assuming a B-field might also be present, it’s worth briefly asking what happens in that case. If <span class="math inline">\(\mathbf{B} \neq \mathbf{0}\)</span>, the resistivity matrix won’t be diagonal, and the off-diagonal terms will be a function of <span class="math inline">\(\mathbf{B}\)</span>. This will cause the induced current to be deflected by the B-field away from its usual trajectory. For example, if the E-field is oriented in the <span class="math inline">\(x\)</span>-direction, there will now be a component of current that moves along the <span class="math inline">\(y\)</span> and <span class="math inline">\(z\)</span> directions as well. This is known as the <em>Hall effect</em>. We can actually use the Hall effect to build a sensor to measure B-field strength. The idea is to use a material whose conductivity is known, apply a known voltage across the material (which gives <span class="math inline">\(\mathbf{E}\)</span>), and use these to measure <span class="math inline">\(\mathbf{B}\)</span>. These kinds of sensors are known as <em>Hall sensors</em>, and are commonly used nowadays to measure B-field strength.</p>
</section>
<section id="ohmic-heating" class="level3">
<h3 class="anchored" data-anchor-id="ohmic-heating">Ohmic Heating</h3>
<p>The presence of the drag term <span class="math inline">\(\mathbf{J}/\tau\)</span> in the generalized Ohm’s law above necessarily means that energy is being dissipated through the material as heat. After all, drag is not a conservative force, which means energy is not conserved unless heat also gets taken into account. Fundamentally the heat loss is due to the random collisions, which causes the free electrons to lose kinetic energy, which gets converted into thermal energy and causes the material to warm up. This is known as <em>Ohmic heating</em>.</p>
<p>In fact, Ohmic heating must occur anytime there is a steady current being pumped through the material, whether the material is Ohmic or not. To see why this is the case, suppose a free charge <span class="math inline">\(q\)</span> is moving through the material at a velocity <span class="math inline">\(\mathbf{v}\)</span> in response to external electric or magnetic fields. Now, the total power <span class="math inline">\(P\)</span> dissipated by a single free charge at any instance is just the rate at which the fields do work on the free charge. Since B-fields do no work, we have <span class="math display">\[
P = \frac{dW}{dt} = \mathbf{F} \cdot \mathbf{v} = q \mathbf{E} \cdot \mathbf{v} \ .
\]</span> Suppose now a distribution <span class="math inline">\(\rho(\mathbf{x})\)</span> of free charge is moving through the material at some flow velocity <span class="math inline">\(\mathbf{v}(\mathbf{x})\)</span>. Then the total power dissipated by the entire charge distribution is given by <span class="math display">\[
P = \int d^3\mathbf{x} \ \rho(\mathbf{x}) \mathbf{E}(\mathbf{x}) \cdot \mathbf{v}(\mathbf{x}) \ .
\]</span> Since the current density is <span class="math inline">\(\mathbf{J} = \rho \mathbf{v}\)</span>, this can also be written <span class="math display">\[
\boxed{
P = \int d^3\mathbf{x} \ \mathbf{J}(\mathbf{x}) \cdot \mathbf{E}(\mathbf{x})
} \ .
\]</span> The <em>power density</em> <span class="math inline">\(\mathbf{J} \cdot \mathbf{E}\)</span> evidently represents the amount of heat generated per unit volume per unit time inside the material. This is the most general form of what’s known as the <em>Joule heating law</em>.</p>
<p>Thus far we’ve made no use whatsoever of Ohm’s law. The discussion has been completely general. Let us now suppose that the material obey’s Ohm’s law <span class="math inline">\(\mathbf{J} = \sigma \mathbf{E}\)</span>. Then we can write the above integral for power as <span class="math display">\[
P = \sigma \int d^3\mathbf{x} \ |\mathbf{E}(\mathbf{x})|^2 = \frac{1}{\sigma} \int d^3\mathbf{x} \ |\mathbf{J}(\mathbf{x})|^2 \ .
\]</span> In the special case where a cylindrical Ohmic material with cross-sectional area <span class="math inline">\(A\)</span> and length <span class="math inline">\(L\)</span> is hooked up to terminals creating a voltage <span class="math inline">\(V\)</span> across the length of the material, we end up with the more familiar forms for the Joule heating law, <span class="math display">\[
P = IV = \frac{V^2}{R} = I^2R \ .
\]</span> Of course, we still haven’t answered an important question: If energy is being dissipated as heat, how is it we’re able to maintain a steady current inside the material? The only way this can happen is if energy is being pumped into the system from somewhere. This added energy is known as electromotive force, which we’ll discuss in detail in the next few sections.</p>
</section>
</section>
<section id="circuits" class="level2">
<h2 class="anchored" data-anchor-id="circuits">Circuits</h2>
<p>In practice, when we create electrical devices we usually do so through the use of <em>circuits</em>. An electrical circuit can be thought of as a set of electrical components with fixed properties that are connected together by conducting wires to form closed loops of current. The electrical components include things like power supplies, resistors, capacitors, inductors, gates, diodes, transistors, and so on. In this course we’ll focus on circuits containing simpler components, usually single loops hooked up to a single power supply, where on that loop we may attach some number of resistors, capacitors, or inductors.</p>
<section id="circuit-elements" class="level3">
<h3 class="anchored" data-anchor-id="circuit-elements">Circuit Elements</h3>
<p>The most fundamental element of a circuit is conducting wire. Typically we assume the wire is a perfect conductor, which insures it has negligible resistance, though in practice a wire will have some small resistance. For example, a 1-millimeter thick copper wire that’s one centimeter long has a resistance of around <span class="math inline">\(R \approx 50 \ \mu\Omega \approx 5 \cdot 10^{-17} \ \text{s}/\text{cm}\)</span>. Compared to other circuit elements this resistance is usually quite negligible, which means we can safely treat the wire as a perfect conductor. This resistance is no longer negligible, however, for very long or very thick wires, like one might find in power lines.</p>
<p>The second electrical element is the <em>power supply</em> or <em>voltage source</em>. A power supply is any device capable of producing a current flow across a circuit. The source of this power can be anything, for instance a battery, an electric generator, or an electrical outlet attached to the wall. What matters is that the power supply is somehow capable of producing a potential difference across the circuit, which then drives a current through the circuit according to Ohm’s law or some other dynamics. The source of this potential difference is the <em>electromotive force</em> of the power supply, something we’ll discuss more in the next section.</p>
<p>The third important element of a circuit is a <em>resistor</em>. A resistor is some type of Ohmic material capable of creating a specified fixed resistance, though one can have resistors with variable resistance as well. The primary purpose of a resistor is to regulate the amount of current flowing through part of the circuit. An ideal resistor with some fixed resistance <span class="math inline">\(R\)</span> will always satisfy Ohm’s law <span class="math inline">\(V = IR\)</span>, at least at typical temperatures and currents. The canonical example of a resistor we saw above. It’s a cylinder with some cross-sectional area <span class="math inline">\(A\)</span>, length <span class="math inline">\(L\)</span>, and resistivity <span class="math inline">\(\rho\)</span>. In that case <span class="math inline">\(R\)</span> is given by the formula <span class="math display">\[
R = \frac{\rho L}{A} \ .
\]</span> In practice, resistors are often made out of carbon-based materials like graphite.</p>
<p>The fourth important circuit element is a <em>capacitor</em>. A capacitor is any device capable of storing charge when a potential difference is applied across it. The canonical example of a capacitor is the parallel plate capacitor <span class="math display">\[
C = \frac{A}{d}
\]</span></p>
<p><span class="math display">\[
L = \frac{4\pi n^2 \ell A}{c^2}
\]</span></p>
<p><span class="math display">\[
V = -L \frac{dI}{dt}
\]</span></p>
<p><span class="math display">\[
\Phi = cLC
\]</span></p>
</section>
<section id="kirkhoffs-laws" class="level3">
<h3 class="anchored" data-anchor-id="kirkhoffs-laws">Kirkhoff’s Laws</h3>
</section>
</section>
<section id="electromotive-force" class="level2">
<h2 class="anchored" data-anchor-id="electromotive-force">Electromotive Force</h2>
<p>Suppose we have a closed loop circuit of some kind hooked up to a power supply with a <em>negative terminal</em> at a point <span class="math inline">\(\mathbf{a}\)</span> on the circuit and a <em>positive terminal</em> at a point <span class="math inline">\(\mathbf{b}\)</span>. If <span class="math inline">\(q\)</span> is some free charge moving across the circuit, the work per unit charge to move the free charge all the way around the circuit is <span class="math display">\[
\mathcal{E} \equiv \frac{1}{q} \oint \mathbf{F} \cdot d\boldsymbol{\ell} \ .
\]</span> We call this work done the <em>electromotive force</em> or <em>EMF</em>. We now want to relate the EMF to the potential difference across the terminals of the power supply. To that end, let’s analyze the force on the charge as it moves from terminal <span class="math inline">\(\mathbf{a}\)</span> to terminal <span class="math inline">\(\mathbf{b}\)</span>.</p>
<p>FIGURE (show power supply hooked up to a circuit, with the forces and currents shown)</p>
<p>For the free charge to be moving at all, there must be some induced E-field <span class="math inline">\(\mathbf{E}\)</span> inside the circuit. This field will act on a moving charge at any point in the circuit with a force <span class="math inline">\(q\mathbf{E}\)</span>. When the free charge is between the terminals, there will also be another source force <span class="math inline">\(\mathbf{F}_s\)</span> acting on the charge due the power supply itself. Inside the power supply, the total force is then the sum <span class="math display">\[
\mathbf{F} = \mathbf{F}_s + q \mathbf{E} \ .
\]</span> Provided the E-field is electrostatic it will also be conservative, which means the closed loop integral of <span class="math inline">\(q\mathbf{E}\)</span> vanishes, leaving only the source force <span class="math inline">\(\mathbf{F}_s\)</span> to contribute anything to the EMF. Since <span class="math inline">\(\mathbf{F}_s\)</span> only acts between <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span>, we have <span class="math display">\[
\mathcal{E} = \frac{1}{q} \int_\mathbf{a}^\mathbf{b} \mathbf{F}_s \cdot d\boldsymbol{\ell} \ .
\]</span> That is, the EMF can be thought of as the work done by the power supply on free charges moving across the power supply. It’s perhaps for this reason that EMF is given its name. It’s the “force” that causes free charges to move through a circuit. Despite the name though, one should not think of EMF as a force in the usual sense. Clearly EMF is a scalar that has dimensions of potential, not a vector that has dimensions of force.</p>
<p>It’s more useful to express the EMF in terms of the induced E-field rather than the source force. To do that we’ll make a useful assumption that’s often approximately true but not exactly true. We’ll assume the power supply is <em>ideal</em>, meaning it has infinite conductivity. We can easily correct for this assumption later. If the power supply is ideal, then between the points <span class="math inline">\(\mathbf{a}\)</span> and <span class="math inline">\(\mathbf{b}\)</span> the total force on a moving free charge must be zero, which means <span class="math inline">\(\mathbf{F}_s = -q\mathbf{E}\)</span>. We thus have <span class="math display">\[
\boxed{
\mathcal{E} = -\int_\mathbf{a}^\mathbf{b} \mathbf{E} \cdot d\boldsymbol{\ell}
} \ .
\]</span> That is, the EMF produced by the power supply is just the potential difference or voltage produced by the power supply. We can thus think of EMF as the <em>cause</em> of current flow through a circuit. The EMF comes solely from the power supply and nothing else. In fact this is the whole purpose of a power supply, to create an EMF, which itself creates an induced E-field across the circuit, which by Ohm’s law then creates a current through the circuit.</p>
<ul>
<li>Continue on with Griffiths here.</li>
<li>Maybe talk in some brief depth about the different types of power supplies</li>
<li>Don’t forget to correct for the realistic case where the power supply has resistance: <span class="math inline">\(V = \mathcal{E} - Ir\)</span></li>
</ul>
<p>Notice in defining the EMF we’ve said nothing about the internals of the power supply itself. The source of the EMF could be essentially anything that creates an E-field. If this source is a battery, the EMF is caused by chemical reactions taking place inside the battery. If the source is a Van de Graaf machine, the EMF is caused by a belt sweeping up free charges and placing them on the circuit directly. If the source is a generator, the EMF is caused by a wire moving through a magnetic field. This last source is the one we’ll focus on now. When the source is a generator, we say that the EMF is a <em>motional EMF</em>.</p>
<section id="motional-emf" class="level3">
<h3 class="anchored" data-anchor-id="motional-emf">Motional EMF</h3>
<ul>
<li><p>Move a wire through a uniform B-field. Force will be a Lorentz force. Show how Faraday’s law falls out.</p></li>
<li><p>Redo above section, trying to avoid focusing so much on a fixed circuit with two distinct terminals.</p></li>
<li><p>EMF == The total voltage across the circuit <em>excluding</em> the power supply</p></li>
<li><p>Consider briefly mentioning Kirkhoff’s rules and maybe doing a couple examples under Ohm’s law section (series, parallel?)</p>
<ul>
<li><span class="math inline">\(\sum V_i = 0\)</span> (follows from a conservative E-field)</li>
<li><span class="math inline">\(I_{in} = I_{out}\)</span> through any node (follows from charge conservation)</li>
<li>Series: <span class="math inline">\(R = R_1 + \cdots + R_n\)</span></li>
<li>Parallel: <span class="math inline">\(1/R = 1/R_1 + \cdots + 1/R_n\)</span></li>
<li>RC Circuit: <span class="math inline">\(V = IR + Q/C\)</span> or <span class="math inline">\(V/R = \dot Q + Q/RC\)</span></li>
</ul></li>
</ul>
</section>
</section>
<section id="faradays-law" class="level2">
<h2 class="anchored" data-anchor-id="faradays-law">Faraday’s Law</h2>
<p>In the early 19th century, Faraday studied the behavior of current flowing through an electric circuit. In doing so he accidentally stumbled on one of the most important facts of electromagnetism, that electric and magnetic fields are related. Specifically, Faraday observed that he could measure a brief transient current flowing through a circuit under the following conditions:</p>
<ul>
<li><p>If the steady current in a second nearby circuit is turned on or off.</p></li>
<li><p>If the second circuit is moved relative to the first circuit while a steady current is flowing through it.</p></li>
<li><p>If a bar magnet is thrust into or out of the first circuit.</p></li>
<li><p>If none of these things is taking place, no current is measured to flow through the first circuit.</p></li>
</ul>
<p>Faraday interpreted the transient current flow as being due to a changing magnetic flux through the first circuit, with the changing magnetic flux inducing an electric field around the circuit via an <em>electromotive force</em>. He called this phenomenon <em>electromagnetic induction</em>.</p>
<hr>
<p>Nowadays we interpret Faraday’s results mathematically as follows. Suppose a closed circuit is running along some closed loop <span class="math inline">\(\mathcal{C}\)</span> containing a bounded open surface <span class="math inline">\(\mathcal{S}\)</span> with unit normal <span class="math inline">\(\mathbf{n}\)</span>. In the background we suppose there is some magnetic field <span class="math inline">\(\mathbf{B}\)</span>. Then there will be a magnetic flux <span class="math inline">\(\Phi_B\)</span> through the circuit given by the integral <span class="math display">\[
\Phi_B = \int_\mathcal{S} da \ \mathbf{B} \cdot \mathbf{n} \ .
\]</span> Suppose an electric field <span class="math inline">\(\mathbf{E}\)</span> is present at each point along the circuit. Then we define the <em>electromotive force</em> or <em>EMF</em> <span class="math inline">\(\mathcal{E}\)</span> around the circuit as the closed loop integral <span class="math display">\[
\mathcal{E} \equiv \oint_\mathcal{C} \mathbf{E} \cdot d\boldsymbol{\ell} \ .
\]</span> Notice that despite its name, EMF is not a force. It doesn’t even have dimensions of force, but instead dimensions of scalar potential or voltage. The EMF should be thought of as a <em>source voltage</em> created across the circuit due to some power source. For instance, if a circuit is hooked up to a battery, the EMF is the source voltage created by the battery itself. If the power source is some changing magnetic field as Faraday suggests, it’s the changing magnetic field that creates the EMF.</p>
<p>Faraday’s observations can now be expressed mathematically by saying the induced EMF around a circuit is proportional to the time derivative of the magnetic flux through the circuit, <span class="math display">\[
\mathcal{E} = -k \frac{d\Phi_B}{dt} \ .
\]</span> The proportionality constant <span class="math inline">\(k\)</span> depends only on the choice of units. It is not an empirical constant. From dimensional analysis, it’s clear that if we want <span class="math inline">\(\mathbf{E}\)</span> and <span class="math inline">\(\mathbf{B}\)</span> to have the same units then <span class="math inline">\(k\)</span> must have units of inverse velocity. Since the speed of light <span class="math inline">\(c\)</span> is the only characteristic velocity available to us, we choose <span class="math inline">\(k \equiv 1/c\)</span>, so that in Gaussian units we have <span class="math display">\[
\boxed{
\mathcal{E} = -\frac{1}{c} \frac{d\Phi_B}{dt}
} \ .
\]</span> This relation between EMF and magnetic flux is known as <em>Faraday’s Law</em>.</p>
<ul>
<li>Consider first doing sections on Ohm’s law and EMF first, similar to Griffiths</li>
<li>Talk about the sign in Faraday’s law, and use Lenz’ law as a rule to find the directions</li>
<li>Lenz’ Law: nature abhors a change in (magnetic) flux</li>
<li>Lenz’s law also implies a Lorentz force opposing the motion</li>
<li>Show how analogy between Ampere and Faraday laws can be used to find E-fields for various problems</li>
</ul>
</section>
<section id="inductance" class="level2">
<h2 class="anchored" data-anchor-id="inductance">Inductance</h2>
</section>
<section id="energy-in-magnetic-fields" class="level2">
<h2 class="anchored" data-anchor-id="energy-in-magnetic-fields">Energy in Magnetic Fields</h2>
<ul>
<li>Mention quasistatics case, where we assume both E and B fields are time independent</li>
<li>Mention (mutual) inductance, <span class="math inline">\(\mathcal{E} = -L \dot I\)</span> where <span class="math inline">\(L\)</span> is geometrical (units of Oersted)</li>
<li>Use Faraday’s law to derive energy stored in B-fields, <span class="math inline">\(u = 1/2c \ \mathbf{J} \cdot \mathbf{A} = 1/2 \ \mathbf{B}^2\)</span></li>
<li>Show how electromagnetic induction (generator) works by an example where circuit is rotated in a constant B-field</li>
<li>Mention eddy currents, induced currents created in a material passed through a magnetic field to oppose motion</li>
</ul>
<p><span class="math display">\[
\mathcal{E} = - \frac{1}{c} \frac{\partial \Phi_B}{\partial t}
\]</span></p>
<p><span class="math display">\[
\nabla \times \mathbf{E} = -\frac{1}{c} \frac{\partial \mathbf{B}}{\partial t}
\]</span></p>
<p><span class="math display">\[
\mathcal{E} = \frac{L I}{c}
\]</span></p>
</section>
<section id="quasistatics" class="level2">
<h2 class="anchored" data-anchor-id="quasistatics">Quasistatics</h2>
<p><span class="math display">\[
\begin{align*}
\nabla \cdot \mathbf{E} &amp;= 4\pi \rho \ , \\
\nabla \times \mathbf{E} &amp;= \frac{1}{c} \frac{\partial \mathbf{B}}{\partial t} \ , \\
\nabla \cdot \mathbf{B} &amp;= 0 \ , \\
\nabla \times \mathbf{B} &amp;= \frac{4\pi}{c} \mathbf{J} \ . \\
\end{align*}
\]</span></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-page-right">
  <div class="nav-page nav-page-previous">
      <a href="../electrodynamics/magnetostatics.html" class="pagination-link" aria-label="Magnetostatics">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Magnetostatics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../electrodynamics/electrodynamics.html" class="pagination-link" aria-label="Electrodynamics">
        <span class="nav-page-text"><span class="chapter-title">Electrodynamics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>